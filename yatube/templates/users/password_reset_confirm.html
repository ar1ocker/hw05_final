{% extends "base.html" %}
{% comment %}
Тут пришлось расширять напрямую base.html, т.к. требовалось одновременно и быть формой и не быть ей 
{% endcomment %}

{% block title %}Новый пароль{% endblock %}

{% load user_filters %}

{% block content %}
  <div class="row justify-content-center">
    <div class="col-xs-8 p-1 col-md-8 p-md-5">
      <div class="card">

        {% if validlink %}
          <div class="card-header">
            Введите новый пароль
          </div>

          <div class="card-body">
            <form method="post" {% if action_url %} action="{% url action_url %}" {% endif %}>
              {% include 'includes/form_errors.html' %}
              {% include 'includes/form.html' %}

                <div class="col-md-6 offset-md-4">
                  <button type="submit" class="btn btn-primary">
                    Назначить новый пароль
                  </button>
                </div>
            </form>
          {% else %}
            {# В случае не валидной ссылки #}
            <div class="card-header">Ошибка</div>
            <div class="card-body">
              <p>Ссылка сброса пароля содержит ошибку или устарела.</p>
          {% endif %}
        </div> <!-- card body -->
      </div> <!-- card -->
    </div> <!-- col -->
  </div> <!-- row -->
{% endblock content %}
